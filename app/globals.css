@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400;1,600&family=JetBrains+Mono:wght@400&family=Playfair+Display:ital,wght@1,700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ZOKRATIQ DESIGN TOKENS v1.0 */
:root {
  /* Colors */
  --color-ink: #0B0F14;
  --color-fog: #6B7280; 
  --color-glow: #F7F7F9;
  --color-brand: #5B8CFF;
  --color-brand-2: #A9C1FF;
  
  /* Radii */
  --radius-sm: 8px;
  --radius-md: 14px;
  --radius-lg: 20px;
  --radius-xl: 28px;
  
  /* Shadows */
  --shadow-card: 0 8px 24px rgba(0, 0, 0, 0.08);
  
  /* Typography */
  --font-system: Inter, system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  --font-display: "Playfair Display", serif;
  
  /* Spacers */
  --space-xs: 8px;
  --space-sm: 12px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 40px;
  --space-xxl: 64px;
  
  /* Container */
  --container-max: 1200px;
  --container-pad: 20px;
}

/* Font utility classes */
.font-playfair {
  font-family: 'Playfair Display', serif;
  font-style: italic;
  font-weight: 700;
}

/* Grain texture overlay */
.grain-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0.03;
  background-image: 
    radial-gradient(circle at 20% 50%, transparent 20%, rgba(255, 255, 255, 0.3) 21%, rgba(255, 255, 255, 0.3) 34%, transparent 35%, transparent),
    linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, 0.05) 25%, rgba(255, 255, 255, 0.05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, 0.05) 75%, rgba(255, 255, 255, 0.05) 76%, transparent 77%, transparent);
  background-size: 50px 50px;
  animation: grain 8s steps(10) infinite;
  pointer-events: none;
}

/* Custom focus styles */
.focus-ring {
  @apply outline-none focus-visible:ring-2 focus-visible:ring-primary-teal focus-visible:ring-offset-2 focus-visible:ring-offset-base-black;
}

/* Link hover underline animation */
.link-underline {
  position: relative;
  text-decoration: none;
}

.link-underline::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 1px;
  background-color: currentColor;
  transition: width 0.14s ease-out;
}

.link-underline:hover::after {
  width: 100%;
}

/* SVG stroke animation utilities */
.svg-draw {
  stroke-dasharray: 1000;
  stroke-dashoffset: 1000;
  transition: stroke-dashoffset 0.3s ease-in-out;
}

.svg-draw:hover {
  stroke-dashoffset: 0;
}

/* Gooey button effect */
.gooey-arrow {
  filter: url(#gooey);
}

/* Paper shader canvas styling */
.shader-canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .grain-overlay {
    animation: none;
  }
  
  .svg-draw {
    transition: none;
  }
  
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Base styles */
html {
  scroll-behavior: smooth;
}

body {
  background-color: #0C0C0C;
  color: #F5F7FA;
  font-family: 'Open Sans', sans-serif;
}

/* Selection styles */
::selection {
  background-color: rgba(0, 179, 166, 0.3);
  color: #F5F7FA;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #141414;
}

::-webkit-scrollbar-thumb {
  background: #00B3A6;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #4ADFD6;
}

/* Additional animations for labs page */
@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Radial gradient utility */
.bg-gradient-radial {
  background: radial-gradient(circle at 30% 20%, rgba(0, 179, 166, 0.1) 0%, transparent 50%);
}

/* ===============================
   CUSTOM REALITY EXPLORATION AESTHETICS 
   Breaking AI-Generated Patterns
   =============================== */

/* Signature Crack/Fractal Patterns */
.reality-crack {
  position: relative;
  overflow: hidden;
}

.reality-crack::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent 0%, rgba(20, 184, 166, 0.3) 20%, transparent 40%, rgba(20, 184, 166, 0.6) 60%, transparent 80%, rgba(20, 184, 166, 0.2) 100%);
  transform: skew(-12deg) translateX(-10px);
}

.reality-crack::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, rgba(20, 184, 166, 0.1) 0%, transparent 30%, rgba(20, 184, 166, 0.4) 70%, transparent 100%);
  transform: skew(8deg) translateX(20px);
}

/* Paper Texture Background */
.paper-texture {
  background: 
    radial-gradient(circle at 40% 20%, rgba(245, 247, 250, 0.015) 0%, transparent 2%),
    radial-gradient(circle at 80% 60%, rgba(245, 247, 250, 0.01) 0%, transparent 1.5%),
    radial-gradient(circle at 20% 80%, rgba(245, 247, 250, 0.008) 0%, transparent 2.5%),
    radial-gradient(circle at 90% 10%, rgba(245, 247, 250, 0.012) 0%, transparent 1%);
  background-size: 100px 80px, 150px 120px, 80px 100px, 200px 160px;
  background-position: 0 0, 50px 40px, 100px 80px, 150px 120px;
}

/* Concrete/Stone Texture for Fault Lines */
.stone-texture {
  background:
    radial-gradient(ellipse at top, rgba(107, 114, 128, 0.05) 0%, transparent 60%),
    linear-gradient(135deg, rgba(107, 114, 128, 0.02) 0%, rgba(107, 114, 128, 0.08) 100%);
  position: relative;
}

.stone-texture::before {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(107, 114, 128, 0.01) 2px, rgba(107, 114, 128, 0.01) 4px);
  opacity: 0.3;
}

/* Asymmetric Card System */
.asymmetric-grid {
  display: grid;
  grid-template-columns: 1.2fr 0.8fr 1fr;
  gap: 2rem 1.5rem;
  align-items: start;
}

.asymmetric-grid > *:nth-child(2) {
  transform: translateY(3rem) rotate(1deg);
}

.asymmetric-grid > *:nth-child(3) {
  transform: translateY(1.5rem) rotate(-0.5deg);
}

.asymmetric-grid > *:nth-child(1) {
  transform: rotate(-1deg);
}

/* Irregular Card Shapes */
.irregular-card {
  clip-path: polygon(0 0, calc(100% - 15px) 0, 100% 15px, 100% 100%, 15px 100%, 0 calc(100% - 15px));
  border: 2px solid rgba(20, 184, 166, 0.3);
  position: relative;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.irregular-card:hover {
  clip-path: polygon(0 5px, calc(100% - 10px) 0, 100% 20px, calc(100% - 5px) 100%, 10px calc(100% - 5px), 0 calc(100% - 20px));
  border-color: rgba(20, 184, 166, 0.6);
  transform: translateY(-5px);
}

/* Hand-drawn Border Effect */
.hand-drawn-border {
  border: none;
  position: relative;
  background: transparent;
}

.hand-drawn-border::before {
  content: '';
  position: absolute;
  inset: -2px;
  background: conic-gradient(from 0deg at 50% 50%, 
    rgba(20, 184, 166, 0.4) 0deg,
    transparent 10deg,
    rgba(20, 184, 166, 0.2) 20deg,
    transparent 30deg,
    rgba(20, 184, 166, 0.6) 40deg,
    transparent 50deg,
    rgba(20, 184, 166, 0.3) 60deg,
    transparent 70deg,
    rgba(20, 184, 166, 0.5) 80deg,
    transparent 90deg,
    rgba(20, 184, 166, 0.4) 360deg);
  border-radius: 12px;
  z-index: -1;
  filter: blur(1px);
}

/* Layered Depth System */
.reality-layer {
  position: relative;
  border-left: 3px solid rgba(20, 184, 166, 0.6);
  padding-left: 2rem;
  margin-left: 1rem;
}

.reality-layer::before {
  content: '';
  position: absolute;
  left: -8px;
  top: 0;
  height: 100%;
  width: 2px;
  background: rgba(245, 247, 250, 0.1);
  transform: skew(-2deg);
}

.reality-layer::after {
  content: '';
  position: absolute;
  left: -12px;
  top: 10%;
  height: 80%;
  width: 1px;
  background: rgba(20, 184, 166, 0.2);
  transform: skew(3deg);
}

/* Overlapping Elements */
.overlap-container {
  position: relative;
  z-index: 1;
}

.overlap-element {
  position: absolute;
  z-index: 2;
  top: -2rem;
  right: -1rem;
  transform: rotate(3deg);
  transition: transform 0.3s ease;
}

.overlap-element:hover {
  transform: rotate(3deg) scale(1.02) translateY(-5px);
}

/* Magazine-Style Drop Cap */
.drop-cap::first-letter {
  float: left;
  font-size: 4rem;
  line-height: 0.8;
  margin-right: 0.75rem;
  margin-top: 0.5rem;
  color: rgba(20, 184, 166, 0.8);
  font-family: 'Playfair Display', serif;
  font-weight: 700;
  text-shadow: 0 0 20px rgba(20, 184, 166, 0.3);
}

/* Broken Grid System */
.broken-grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 1.5rem;
  position: relative;
}

.broken-grid-item-1 {
  grid-column: 1 / 8;
  transform: translateY(-1rem) rotate(-0.5deg);
}

.broken-grid-item-2 {
  grid-column: 7 / 13;
  transform: translateY(2rem) rotate(1deg);
}

.broken-grid-item-3 {
  grid-column: 2 / 10;
  transform: translateY(0.5rem) rotate(-0.2deg);
}

/* Diagonal Section Dividers */
.diagonal-divide {
  position: relative;
}

.diagonal-divide::before {
  content: '';
  position: absolute;
  top: -2px;
  left: 0;
  right: 0;
  height: 100px;
  background: linear-gradient(135deg, transparent 48%, rgba(20, 184, 166, 0.1) 49%, rgba(20, 184, 166, 0.1) 51%, transparent 52%);
  transform: skew(-2deg);
  transform-origin: top left;
}

/* Custom Hover States (Not Uniform) */
.organic-hover {
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.organic-hover:hover {
  transform: rotate(-1deg) scale(1.02) translateY(-3px);
  box-shadow: 
    0 20px 40px rgba(0, 0, 0, 0.3),
    0 0 30px rgba(20, 184, 166, 0.1);
}

/* Stepped Formation Layout */
.stepped-formation {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.stepped-formation > *:nth-child(1) {
  margin-left: 0;
  transform: rotate(-0.5deg);
}

.stepped-formation > *:nth-child(2) {
  margin-left: 3rem;
  transform: rotate(0.8deg) translateY(1rem);
}

.stepped-formation > *:nth-child(3) {
  margin-left: 1.5rem;
  transform: rotate(-0.3deg) translateY(0.5rem);
}

/* Responsive Adaptations */
@media (max-width: 768px) {
  .asymmetric-grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  
  .asymmetric-grid > * {
    transform: none !important;
  }
  
  .stepped-formation > * {
    margin-left: 0 !important;
    transform: none !important;
  }
  
  .broken-grid-item-1,
  .broken-grid-item-2,
  .broken-grid-item-3 {
    grid-column: 1 / -1;
    transform: none !important;
  }
}

/* Subtle Animation for Organic Feel */
@keyframes organic-float {
  0%, 100% { 
    transform: translateY(0px) rotate(0deg); 
  }
  50% { 
    transform: translateY(-10px) rotate(0.5deg); 
  }
}

.organic-float {
  animation: organic-float 8s ease-in-out infinite;
  animation-delay: var(--delay, 0s);
}

/* Glyph Shimmer Effect */
.glyph-shimmer {
  position: relative;
  display: inline-block;
  color: rgba(20, 184, 166, 0.9);
}

.glyph-shimmer::before {
  content: attr(data-glyph);
  position: absolute;
  top: 0;
  left: 0;
  background: linear-gradient(90deg, transparent 0%, rgba(74, 223, 214, 0.8) 50%, transparent 100%);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: shimmer 3s linear infinite;
  opacity: 0;
}

.glyph-shimmer:hover::before {
  opacity: 1;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Custom Cursor Effects */
.cursor-reality {
  cursor: crosshair;
  transition: all 0.3s ease;
}

.cursor-reality:hover {
  transform: rotate(2deg) scale(1.02);
}

/* Magnetic Buttons */
.magnetic-button {
  position: relative;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
}

.magnetic-button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: radial-gradient(circle, rgba(20, 184, 166, 0.2) 0%, transparent 70%);
  transition: all 0.6s ease;
  transform: translate(-50%, -50%);
  border-radius: 50%;
}

.magnetic-button:hover::before {
  width: 300px;
  height: 300px;
}

.magnetic-button:hover {
  transform: translateY(-3px) rotate(-1deg);
  box-shadow: 
    0 10px 40px rgba(20, 184, 166, 0.3),
    0 0 20px rgba(20, 184, 166, 0.1);
}

/* Breathing Effect for Cards */
@keyframes breathe {
  0%, 100% { 
    transform: scale(1) rotate(0deg);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  }
  50% { 
    transform: scale(1.02) rotate(0.5deg);
    box-shadow: 
      0 15px 30px rgba(0, 0, 0, 0.3),
      0 0 20px rgba(20, 184, 166, 0.1);
  }
}

.breathing-card {
  animation: breathe 4s ease-in-out infinite;
  animation-delay: var(--delay, 0s);
}

/* Glitch Effect for Text */
.glitch-text {
  position: relative;
  color: rgba(245, 247, 250, 0.9);
}

.glitch-text::before,
.glitch-text::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
}

.glitch-text::before {
  animation: glitch-1 2s infinite;
  color: rgba(20, 184, 166, 0.7);
  z-index: -1;
}

.glitch-text::after {
  animation: glitch-2 2s infinite;
  color: rgba(74, 223, 214, 0.7);
  z-index: -2;
}

@keyframes glitch-1 {
  0%, 14%, 15%, 49%, 50%, 99%, 100% {
    transform: translate(0);
    opacity: 0;
  }
  15%, 49% {
    transform: translate(-2px, 1px);
    opacity: 0.7;
  }
}

@keyframes glitch-2 {
  0%, 20%, 21%, 62%, 63%, 99%, 100% {
    transform: translate(0);
    opacity: 0;
  }
  21%, 62% {
    transform: translate(2px, -1px);
    opacity: 0.7;
  }
}

.glitch-text:hover::before,
.glitch-text:hover::after {
  opacity: 1;
}

/* Liquid Morphing */
@keyframes morph {
  0%, 100% {
    border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
  }
  50% {
    border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
  }
}

.morphing-blob {
  animation: morph 8s ease-in-out infinite;
  animation-delay: var(--delay, 0s);
}

/* Reality Distortion Effect */
.reality-distort {
  position: relative;
  overflow: hidden;
}

.reality-distort::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: linear-gradient(45deg, transparent, rgba(20, 184, 166, 0.1), transparent);
  z-index: -1;
  transition: all 0.3s ease;
  opacity: 0;
}

.reality-distort:hover::before {
  opacity: 1;
  background: linear-gradient(45deg, transparent, rgba(20, 184, 166, 0.3), transparent);
  transform: rotate(180deg);
}

/* Parallax Scroll Effect Classes */
.parallax-slow {
  transform: translateY(calc(var(--scroll) * 0.2));
}

.parallax-medium {
  transform: translateY(calc(var(--scroll) * 0.5));
}

.parallax-fast {
  transform: translateY(calc(var(--scroll) * 0.8));
}

/* Timeline Circle Pulsating Growth Animation */
@keyframes timeline-pulse-grow {
  0%, 20% { 
    transform: scale(1);
    opacity: 1;
    box-shadow: 0 0 0 0 rgba(20, 184, 166, 0.7);
  }
  50% { 
    transform: scale(3);
    opacity: 0.8;
    box-shadow: 0 0 0 15px rgba(20, 184, 166, 0);
  }
  80%, 100% { 
    transform: scale(1);
    opacity: 1;
    box-shadow: 0 0 0 0 rgba(20, 184, 166, 0);
  }
}

.timeline-circle-pulse {
  animation: timeline-pulse-grow 3s ease-in-out infinite;
  animation-delay: var(--delay, 0s);
  transform-origin: center;
}

/* Code-style button with blinking cursor */
.code-button {
  font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
  position: relative;
}

.code-button::after {
  content: '|';
  animation: blink-cursor 1.2s infinite;
  margin-left: 0.1em;
  opacity: 0.7;
}

@keyframes blink-cursor {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

/* Glitch effect for code button hover */
.glitch-button {
  position: relative;
  overflow: hidden;
}

.glitch-button::before,
.glitch-button::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.glitch-button::before {
  color: rgba(20, 184, 166, 0.8);
  z-index: -1;
  animation: glitch-left 0.3s infinite;
}

.glitch-button::after {
  color: rgba(74, 223, 214, 0.8);
  z-index: -2;
  animation: glitch-right 0.3s infinite;
}

.glitch-button:hover::before,
.glitch-button:hover::after {
  opacity: 1;
}

@keyframes glitch-left {
  0%, 90%, 100% { transform: translate(0); }
  20% { transform: translate(-2px, 1px); }
  40% { transform: translate(-1px, -1px); }
  60% { transform: translate(1px, 0px); }
  80% { transform: translate(0px, -1px); }
}

@keyframes glitch-right {
  0%, 90%, 100% { transform: translate(0); }
  20% { transform: translate(2px, -1px); }
  40% { transform: translate(1px, 1px); }
  60% { transform: translate(-1px, 0px); }
  80% { transform: translate(0px, 1px); }
}

/* Clarity bridge styling */
.clarity-bridge {
  background: linear-gradient(135deg, rgba(20, 184, 166, 0.1) 0%, rgba(74, 223, 214, 0.05) 100%);
  border: 1px solid rgba(20, 184, 166, 0.2);
  backdrop-filter: blur(10px);
}