'use client'

import { motion } from 'framer-motion'
import { useState } from 'react'

export default function SocialShare() {
  const [copied, setCopied] = useState(false)

  const shareText = "Just downloaded the Misfits OS Blueprint from @Zokratiq. Finally, a framework for hiring weird talent without cultural chaos. Game-changer for any team stuck in cognitive sameness."
  const shareUrl = "https://zokratiq.com/misfits-os-for-business"

  const handleCopyLink = async () => {
    try {
      await navigator.clipboard.writeText(shareUrl)
      setCopied(true)
      setTimeout(() => setCopied(false), 2000)
    } catch (err) {
      console.error('Failed to copy link:', err)
    }
  }

  const shareLinks = [
    {
      name: "LinkedIn",
      icon: (
        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
          <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
        </svg>
      ),
      url: `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(shareUrl)}&text=${encodeURIComponent(shareText)}`,
      color: "hover:bg-blue-600"
    },
    {
      name: "Twitter",
      icon: (
        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
          <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
        </svg>
      ),
      url: `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(shareUrl)}`,
      color: "hover:bg-sky-600"
    },
    {
      name: "Email",
      icon: (
        <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
        </svg>
      ),
      url: `mailto:?subject=${encodeURIComponent('Check out the Misfits OS Blueprint')}&body=${encodeURIComponent(`${shareText}\n\n${shareUrl}`)}`,
      color: "hover:bg-green-600"
    }
  ]

  return (
    <div className="max-w-2xl mx-auto">
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.6 }}
        className="text-center"
      >
        <h2 className="text-2xl md:text-3xl font-bold text-soft-white mb-6">
          Know Other Leaders Struggling with Cognitive Sameness?
        </h2>
        <p className="text-lg text-cloud-gray mb-8 leading-relaxed">
          Share the Misfits OS Blueprint with your network. Help other organizations break the cycle of safe hiring.
        </p>

        {/* Share Message Preview */}
        <div className="bg-deep-charcoal/50 border border-weird-purple/20 rounded-xl p-6 mb-8">
          <div className="text-sm text-cloud-gray/80 mb-4">Share this message:</div>
          <blockquote className="text-cloud-gray italic leading-relaxed">
            "{shareText}"
          </blockquote>
        </div>

        {/* Share Buttons */}
        <div className="flex flex-wrap justify-center gap-4 mb-8">
          {shareLinks.map((platform, index) => (
            <motion.a
              key={platform.name}
              href={platform.url}
              target="_blank"
              rel="noopener noreferrer"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.4, delay: index * 0.1 }}
              className={`inline-flex items-center justify-center gap-2 px-6 py-3 bg-deep-charcoal border border-weird-purple/20 text-cloud-gray rounded-lg transition-all duration-300 ${platform.color} hover:text-white hover:border-transparent`}
            >
              {platform.icon}
              <span className="font-medium">Share on {platform.name}</span>
            </motion.a>
          ))}

          {/* Copy Link Button */}
          <motion.button
            onClick={handleCopyLink}
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.4, delay: 0.3 }}
            className="inline-flex items-center justify-center gap-2 px-6 py-3 bg-weird-purple/20 border border-weird-purple/30 text-weird-purple rounded-lg hover:bg-weird-purple hover:text-white transition-all duration-300"
          >
            {copied ? (
              <>
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M5 13l4 4L19 7"/>
                </svg>
                <span className="font-medium">Copied!</span>
              </>
            ) : (
              <>
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                <span className="font-medium">Copy Link</span>
              </>
            )}
          </motion.button>
        </div>

        {/* Impact Message */}
        <div className="bg-gradient-to-r from-primary-teal/20 to-weird-purple/20 border border-primary-teal/30 rounded-xl p-6">
          <h3 className="text-lg font-bold text-primary-teal mb-3">
            Help Break the Cycle of Cognitive Sameness
          </h3>
          <p className="text-cloud-gray text-sm leading-relaxed">
            When you share the Misfits OS Blueprint, you're helping other organizations discover the competitive advantage that comes from hiring weird talent.
            Together, we can transform how companies think about talent, culture, and cognitive diversity.
          </p>
        </div>

        {/* Thank You Note */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.6, delay: 0.5 }}
          className="mt-8 text-center"
        >
          <p className="text-cloud-gray/80 text-sm">
            Thank you for being part of the cognitive diversity movement. üôè
          </p>
        </div>
      </motion.div>
    </div>
  )
}