<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="utf-8"/>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>TJI Questionnaire - Zokratiq</title>
    <meta name="description" content="Tao Jones Index Assessment - Measure your organization's cognitive diversity and governance resilience."/>
    <meta name="robots" content="noindex, nofollow"/>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400;1,600&family=JetBrains+Mono:wght@400&family=Playfair+Display:ital,wght@1,700&display=swap" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'base-black': '#0A0A0A',
                        'deep-charcoal': '#1A1A1A',
                        'soft-white': '#F8F8F8',
                        'cloud-gray': '#B8BCC8',
                        'primary-teal': '#4ECDC4',
                        'bright-aqua': '#45B7B8',
                        'warm-accent': '#FFA726'
                    },
                    fontFamily: {
                        'sans': ['Open Sans', 'system-ui', 'sans-serif'],
                        'serif': ['Crimson Text', 'serif'],
                        'mono': ['JetBrains Mono', 'monospace'],
                        'playfair': ['Playfair Display', 'serif']
                    }
                }
            }
        }
    </script>
    <style>
        .grain-overlay {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.4'/%3E%3C/svg%3E");
            mix-blend-mode: overlay;
            pointer-events: none;
            position: absolute;
            inset: 0;
        }
        .progress-step {
            transition: all 0.3s ease;
        }
        .progress-step.active {
            background-color: #4ECDC4;
        }
        .progress-step.completed {
            background-color: #45B7B8;
        }
    </style>
</head>
<body class="bg-base-black text-soft-white font-sans antialiased overflow-x-hidden">
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-deep-charcoal/90 backdrop-blur-md border-b border-gray-800">
        <div class="container mx-auto px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <a class="flex items-center space-x-3 group" href="/resources/tao-jones-index/">
                    <div class="w-10 h-10 rounded-full bg-primary-teal flex items-center justify-center">
                        <span class="text-base-black font-bold text-sm">TJI</span>
                    </div>
                    <div class="hidden sm:block">
                        <div class="font-bold text-soft-white text-lg">Tao Jones Index</div>
                        <div class="text-xs font-mono text-primary-teal/80 -mt-1">Assessment in Progress</div>
                    </div>
                </a>
                <div class="flex items-center space-x-6">
                    <div class="text-sm font-mono text-cloud-gray" id="save-status">
                        <span class="inline-block w-2 h-2 rounded-full bg-green-500 mr-2"></span>
                        Auto-saved
                    </div>
                    <button onclick="showExitDialog()" class="text-cloud-gray hover:text-primary-teal transition-colors duration-200">
                        Exit Assessment
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main class="min-h-screen pt-20">
        <!-- Progress Bar -->
        <div class="bg-deep-charcoal/50 border-b border-gray-800">
            <div class="container mx-auto px-6 lg:px-8 py-4">
                <div class="flex items-center justify-between mb-4">
                    <h1 class="text-xl font-bold text-soft-white">Tao Jones Index Assessment</h1>
                    <div class="text-sm font-mono text-cloud-gray">
                        Step <span id="current-step">1</span> of 7
                    </div>
                </div>
                <div class="flex space-x-2">
                    <div class="progress-step active w-full h-2 rounded-full bg-gray-700" id="step-1"></div>
                    <div class="progress-step w-full h-2 rounded-full bg-gray-700" id="step-2"></div>
                    <div class="progress-step w-full h-2 rounded-full bg-gray-700" id="step-3"></div>
                    <div class="progress-step w-full h-2 rounded-full bg-gray-700" id="step-4"></div>
                    <div class="progress-step w-full h-2 rounded-full bg-gray-700" id="step-5"></div>
                    <div class="progress-step w-full h-2 rounded-full bg-gray-700" id="step-6"></div>
                    <div class="progress-step w-full h-2 rounded-full bg-gray-700" id="step-7"></div>
                </div>
            </div>
        </div>

        <!-- Page Container -->
        <div class="container mx-auto px-6 lg:px-8 py-12">
            <div class="max-w-4xl mx-auto">
                
                <!-- Page 1: Company Basics -->
                <div id="page-1" class="page-content">
                    <div class="mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-soft-white mb-4">Company Basics & Quick Enrichment</h2>
                        <p class="text-lg text-cloud-gray">Let's start with the fundamentals. We'll use your company URL to auto-enrich public records where possible.</p>
                    </div>

                    <form class="space-y-8">
                        <div>
                            <label for="company-url" class="block text-soft-white text-sm font-medium mb-3">
                                Company URL <span class="text-red-400">*</span>
                            </label>
                            <input type="url" id="company-url" name="company-url" required 
                                   class="w-full px-4 py-3 bg-deep-charcoal/50 border border-gray-700 rounded-lg text-soft-white placeholder-cloud-gray/50 focus:border-primary-teal focus:outline-none focus:ring-2 focus:ring-primary-teal/20 transition-all duration-200"
                                   placeholder="e.g., acme.com">
                            <div class="text-sm text-cloud-gray/80 mt-2">Primary public domain. Used to auto-enrich public records.</div>
                        </div>

                        <div>
                            <label for="company-name" class="block text-soft-white text-sm font-medium mb-3">
                                Company Name (override)
                            </label>
                            <input type="text" id="company-name" name="company-name"
                                   class="w-full px-4 py-3 bg-deep-charcoal/50 border border-gray-700 rounded-lg text-soft-white placeholder-cloud-gray/50 focus:border-primary-teal focus:outline-none focus:ring-2 focus:ring-primary-teal/20 transition-all duration-200"
                                   placeholder="Leave blank to use auto-detected name">
                        </div>

                        <div>
                            <label for="headquarters" class="block text-soft-white text-sm font-medium mb-3">
                                Headquarters
                            </label>
                            <div class="grid md:grid-cols-2 gap-4">
                                <input type="text" id="headquarters-city" name="headquarters-city" placeholder="City"
                                       class="w-full px-4 py-3 bg-deep-charcoal/50 border border-gray-700 rounded-lg text-soft-white placeholder-cloud-gray/50 focus:border-primary-teal focus:outline-none focus:ring-2 focus:ring-primary-teal/20 transition-all duration-200">
                                <select id="headquarters-country" name="headquarters-country"
                                        class="w-full px-4 py-3 bg-deep-charcoal/50 border border-gray-700 rounded-lg text-soft-white focus:border-primary-teal focus:outline-none focus:ring-2 focus:ring-primary-teal/20 transition-all duration-200">
                                    <option value="">Select Country</option>
                                    <option value="US">United States</option>
                                    <option value="CA">Canada</option>
                                    <option value="GB">United Kingdom</option>
                                    <option value="DE">Germany</option>
                                    <option value="FR">France</option>
                                    <option value="JP">Japan</option>
                                    <option value="AU">Australia</option>
                                    <option value="SG">Singapore</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label class="block text-soft-white text-sm font-medium mb-3">
                                Company Status <span class="text-red-400">*</span>
                            </label>
                            <div class="space-y-3">
                                <label class="flex items-center">
                                    <input type="radio" name="company-status" value="public" required
                                           class="w-4 h-4 text-primary-teal bg-deep-charcoal border-gray-600 focus:ring-primary-teal">
                                    <span class="ml-3 text-cloud-gray">Public</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="company-status" value="private" required
                                           class="w-4 h-4 text-primary-teal bg-deep-charcoal border-gray-600 focus:ring-primary-teal">
                                    <span class="ml-3 text-cloud-gray">Private</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="company-status" value="not-sure" required
                                           class="w-4 h-4 text-primary-teal bg-deep-charcoal border-gray-600 focus:ring-primary-teal">
                                    <span class="ml-3 text-cloud-gray">Not sure</span>
                                </label>
                            </div>
                        </div>

                        <div class="bg-deep-charcoal/30 border border-gray-700 rounded-xl p-6">
                            <h3 class="text-lg font-semibold text-soft-white mb-4">Contact for this submission</h3>
                            <div class="space-y-4">
                                <div class="grid md:grid-cols-2 gap-4">
                                    <input type="text" id="contact-name" name="contact-name" placeholder="Your name"
                                           class="w-full px-4 py-3 bg-deep-charcoal/50 border border-gray-600 rounded-lg text-soft-white placeholder-cloud-gray/50 focus:border-primary-teal focus:outline-none focus:ring-2 focus:ring-primary-teal/20 transition-all duration-200">
                                    <input type="text" id="contact-role" name="contact-role" placeholder="Your role"
                                           class="w-full px-4 py-3 bg-deep-charcoal/50 border border-gray-600 rounded-lg text-soft-white placeholder-cloud-gray/50 focus:border-primary-teal focus:outline-none focus:ring-2 focus:ring-primary-teal/20 transition-all duration-200">
                                </div>
                                <input type="email" id="contact-email" name="contact-email" placeholder="your@email.com"
                                       class="w-full px-4 py-3 bg-deep-charcoal/50 border border-gray-600 rounded-lg text-soft-white placeholder-cloud-gray/50 focus:border-primary-teal focus:outline-none focus:ring-2 focus:ring-primary-teal/20 transition-all duration-200">
                                <div class="text-sm text-cloud-gray/80">We'll email the Tao Score report & verification link if you provide an address.</div>
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Page 2: Roster Import -->
                <div id="page-2" class="page-content hidden">
                    <div class="mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-soft-white mb-4">Roster Import & Confirmation</h2>
                        <p class="text-lg text-cloud-gray">Build your board and top executive roster. Choose your preferred input method below.</p>
                    </div>

                    <!-- Import Method Selection -->
                    <div class="mb-8">
                        <div class="grid md:grid-cols-3 gap-4">
                            <button type="button" id="method-auto" onclick="selectImportMethod('auto')"
                                    class="import-method-btn p-6 bg-deep-charcoal/50 border border-gray-700 rounded-xl text-center hover:border-primary-teal transition-all duration-200">
                                <div class="text-2xl mb-2">🔄</div>
                                <div class="font-semibold text-soft-white mb-2">Auto-Enrich</div>
                                <div class="text-sm text-cloud-gray">Query public APIs</div>
                            </button>
                            <button type="button" id="method-paste" onclick="selectImportMethod('paste')"
                                    class="import-method-btn p-6 bg-deep-charcoal/50 border border-gray-700 rounded-xl text-center hover:border-primary-teal transition-all duration-200">
                                <div class="text-2xl mb-2">📋</div>
                                <div class="font-semibold text-soft-white mb-2">Paste URLs</div>
                                <div class="text-sm text-cloud-gray">LinkedIn or profiles</div>
                            </button>
                            <button type="button" id="method-manual" onclick="selectImportMethod('manual')"
                                    class="import-method-btn p-6 bg-deep-charcoal/50 border border-gray-700 rounded-xl text-center hover:border-primary-teal transition-all duration-200">
                                <div class="text-2xl mb-2">✏️</div>
                                <div class="font-semibold text-soft-white mb-2">Manual Entry</div>
                                <div class="text-sm text-cloud-gray">Type in details</div>
                            </button>
                        </div>
                    </div>

                    <!-- Auto-Enrich Method -->
                    <div id="auto-method" class="method-content hidden">
                        <div class="bg-deep-charcoal/30 border border-gray-700 rounded-xl p-6 mb-6">
                            <h3 class="text-lg font-semibold text-soft-white mb-4">Auto-Enrich Permission</h3>
                            <div class="flex items-center mb-4">
                                <input type="checkbox" id="auto-enrich-consent" class="w-4 h-4 text-primary-teal bg-deep-charcoal border-gray-600 rounded focus:ring-primary-teal">
                                <label for="auto-enrich-consent" class="ml-3 text-cloud-gray">
                                    Allow querying public APIs (Clearbit/Crunchbase) for this domain
                                </label>
                            </div>
                            <button type="button" onclick="startAutoEnrich()" disabled id="auto-enrich-btn"
                                    class="bg-primary-teal text-base-black px-6 py-3 rounded-lg font-semibold hover:bg-bright-aqua transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed">
                                Fetch Leadership Data
                            </button>
                        </div>
                        <div id="auto-enrich-results" class="hidden">
                            <div class="text-sm text-cloud-gray mb-4">Found the following leadership profiles. Please verify and edit as needed:</div>
                            <div id="auto-roster-table"></div>
                        </div>
                    </div>

                    <!-- Paste URLs Method -->
                    <div id="paste-method" class="method-content hidden">
                        <div class="space-y-6">
                            <div>
                                <label for="profile-urls" class="block text-soft-white text-sm font-medium mb-3">
                                    Paste LinkedIn or Public Profile URLs
                                </label>
                                <textarea id="profile-urls" name="profile-urls" rows="8" placeholder="Paste one URL per line, e.g.:&#10;https://linkedin.com/in/johndoe&#10;https://linkedin.com/in/janedoe&#10;https://company.com/team/johndoe"
                                          class="w-full px-4 py-3 bg-deep-charcoal/50 border border-gray-700 rounded-lg text-soft-white placeholder-cloud-gray/50 focus:border-primary-teal focus:outline-none focus:ring-2 focus:ring-primary-teal/20 transition-all duration-200"></textarea>
                                <div class="text-sm text-cloud-gray/80 mt-2">We'll extract names and titles for confirmation.</div>
                            </div>
                            <button type="button" onclick="parseUrls()" 
                                    class="bg-primary-teal text-base-black px-6 py-3 rounded-lg font-semibold hover:bg-bright-aqua transition-colors duration-200">
                                Extract Profiles
                            </button>
                        </div>
                    </div>

                    <!-- Manual Entry Method -->
                    <div id="manual-method" class="method-content hidden">
                        <div id="roster-table">
                            <div class="flex justify-between items-center mb-6">
                                <div class="text-lg font-semibold text-soft-white">Leadership Roster</div>
                                <button type="button" onclick="addRosterRow()" 
                                        class="bg-primary-teal text-base-black px-4 py-2 rounded-lg text-sm font-semibold hover:bg-bright-aqua transition-colors duration-200">
                                    + Add Person
                                </button>
                            </div>
                            <div class="space-y-4" id="roster-rows">
                                <!-- Roster rows will be added here -->
                            </div>
                            <div class="text-sm text-cloud-gray/80 mt-4">Minimum 3 people required; 5+ recommended for accurate scoring.</div>
                        </div>
                    </div>
                </div>

                <!-- Additional pages would continue here... For brevity, I'll show the structure for pages 3-7 -->
                
                <!-- Navigation Buttons -->
                <div class="flex justify-between items-center mt-12 pt-8 border-t border-gray-700">
                    <button id="prev-btn" onclick="previousPage()" disabled
                            class="bg-gray-600 text-soft-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed">
                        Previous
                    </button>
                    <button id="next-btn" onclick="nextPage()"
                            class="bg-primary-teal text-base-black px-6 py-3 rounded-lg font-semibold hover:bg-bright-aqua transition-colors duration-200">
                        Save & Continue
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Exit Dialog -->
    <div id="exit-dialog" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden flex items-center justify-center">
        <div class="bg-deep-charcoal border border-gray-700 rounded-xl p-6 max-w-md mx-4">
            <h3 class="text-lg font-semibold text-soft-white mb-4">Exit Assessment?</h3>
            <p class="text-cloud-gray mb-6">Your progress has been auto-saved. You can return anytime to continue from where you left off.</p>
            <div class="flex space-x-4">
                <button onclick="hideExitDialog()" class="bg-gray-600 text-soft-white px-4 py-2 rounded-lg hover:bg-gray-500 transition-colors duration-200">
                    Continue Assessment
                </button>
                <a href="/resources/tao-jones-index/" class="bg-primary-teal text-base-black px-4 py-2 rounded-lg hover:bg-bright-aqua transition-colors duration-200 inline-block">
                    Exit
                </a>
            </div>
        </div>
    </div>

    <script>
        // Application State
        let currentPage = 1;
        let assessmentData = {};
        let rosterCount = 0;

        // Load saved data on page load
        window.onload = function() {
            loadSavedData();
            initializeRosterTable();
            updateProgress();
        };

        // Auto-save functionality
        function autoSave() {
            const formData = new FormData(document.querySelector('form'));
            const data = Object.fromEntries(formData.entries());
            assessmentData = { ...assessmentData, ...data };
            localStorage.setItem('tji-assessment', JSON.stringify(assessmentData));
            updateSaveStatus('saved');
        }

        // Load saved data
        function loadSavedData() {
            const saved = localStorage.getItem('tji-assessment');
            if (saved) {
                assessmentData = JSON.parse(saved);
                // Populate form fields
                populateFields();
            }
        }

        // Populate form fields with saved data
        function populateFields() {
            for (let key in assessmentData) {
                const element = document.querySelector(`[name="${key}"]`);
                if (element) {
                    if (element.type === 'radio') {
                        const radio = document.querySelector(`[name="${key}"][value="${assessmentData[key]}"]`);
                        if (radio) radio.checked = true;
                    } else if (element.type === 'checkbox') {
                        element.checked = assessmentData[key] === 'on';
                    } else {
                        element.value = assessmentData[key];
                    }
                }
            }
        }

        // Update save status indicator
        function updateSaveStatus(status) {
            const indicator = document.getElementById('save-status');
            if (status === 'saving') {
                indicator.innerHTML = '<span class="inline-block w-2 h-2 rounded-full bg-yellow-500 mr-2"></span>Saving...';
            } else if (status === 'saved') {
                indicator.innerHTML = '<span class="inline-block w-2 h-2 rounded-full bg-green-500 mr-2"></span>Auto-saved';
            } else if (status === 'error') {
                indicator.innerHTML = '<span class="inline-block w-2 h-2 rounded-full bg-red-500 mr-2"></span>Save error';
            }
        }

        // Page navigation
        function nextPage() {
            if (validateCurrentPage()) {
                updateSaveStatus('saving');
                autoSave();
                setTimeout(() => {
                    currentPage++;
                    showPage(currentPage);
                    updateProgress();
                    updateSaveStatus('saved');
                }, 500);
            }
        }

        function previousPage() {
            if (currentPage > 1) {
                updateSaveStatus('saving');
                autoSave();
                setTimeout(() => {
                    currentPage--;
                    showPage(currentPage);
                    updateProgress();
                    updateSaveStatus('saved');
                }, 500);
            }
        }

        function showPage(pageNum) {
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show current page
            document.getElementById(`page-${pageNum}`).classList.remove('hidden');
            
            // Update navigation buttons
            document.getElementById('prev-btn').disabled = pageNum === 1;
            document.getElementById('next-btn').textContent = pageNum === 7 ? 'Complete Assessment' : 'Save & Continue';
        }

        function updateProgress() {
            document.getElementById('current-step').textContent = currentPage;
            
            // Update progress bars
            for (let i = 1; i <= 7; i++) {
                const step = document.getElementById(`step-${i}`);
                step.classList.remove('active', 'completed');
                
                if (i < currentPage) {
                    step.classList.add('completed');
                } else if (i === currentPage) {
                    step.classList.add('active');
                }
            }
        }

        // Validation
        function validateCurrentPage() {
            const currentForm = document.querySelector(`#page-${currentPage} form, #page-${currentPage}`);
            const requiredFields = currentForm.querySelectorAll('[required]');
            
            for (let field of requiredFields) {
                if (!field.value && field.type !== 'radio') {
                    showFieldError(field, 'This field is required');
                    return false;
                }
                if (field.type === 'radio') {
                    const radioGroup = document.querySelectorAll(`[name="${field.name}"]`);
                    const checked = Array.from(radioGroup).some(radio => radio.checked);
                    if (!checked) {
                        showFieldError(field, 'Please select an option');
                        return false;
                    }
                }
            }
            
            // Page-specific validation
            if (currentPage === 1) {
                const url = document.getElementById('company-url').value;
                if (url && !isValidUrl(url)) {
                    showFieldError(document.getElementById('company-url'), 'Please enter a valid URL');
                    return false;
                }
            }
            
            if (currentPage === 2) {
                if (rosterCount < 3) {
                    alert('Please add at least 3 people to the roster for accurate scoring.');
                    return false;
                }
            }
            
            return true;
        }

        function showFieldError(field, message) {
            // Remove existing error
            const existingError = field.parentNode.querySelector('.field-error');
            if (existingError) existingError.remove();
            
            // Add error message
            const error = document.createElement('div');
            error.className = 'field-error text-red-400 text-sm mt-1';
            error.textContent = message;
            field.parentNode.appendChild(error);
            
            // Focus field
            field.focus();
            field.classList.add('border-red-400');
            setTimeout(() => field.classList.remove('border-red-400'), 3000);
        }

        function isValidUrl(string) {
            try {
                new URL(string.startsWith('http') ? string : 'https://' + string);
                return true;
            } catch (_) {
                return false;
            }
        }

        // Roster management
        function selectImportMethod(method) {
            // Update button styles
            document.querySelectorAll('.import-method-btn').forEach(btn => {
                btn.classList.remove('border-primary-teal', 'bg-primary-teal/10');
            });
            document.getElementById(`method-${method}`).classList.add('border-primary-teal', 'bg-primary-teal/10');
            
            // Show/hide method content
            document.querySelectorAll('.method-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(`${method}-method`).classList.remove('hidden');
        }

        function initializeRosterTable() {
            // Add initial empty rows
            for (let i = 0; i < 3; i++) {
                addRosterRow();
            }
        }

        function addRosterRow() {
            rosterCount++;
            const container = document.getElementById('roster-rows');
            const row = document.createElement('div');
            row.className = 'bg-deep-charcoal/30 border border-gray-700 rounded-xl p-4';
            row.innerHTML = `
                <div class="flex justify-between items-center mb-4">
                    <h4 class="font-semibold text-soft-white">Person ${rosterCount}</h4>
                    <button type="button" onclick="removeRosterRow(this)" class="text-red-400 hover:text-red-300 text-sm">Remove</button>
                </div>
                <div class="grid md:grid-cols-2 gap-4 mb-4">
                    <input type="text" name="roster-name-${rosterCount}" placeholder="Full name" required
                           class="w-full px-3 py-2 bg-deep-charcoal/50 border border-gray-600 rounded-lg text-soft-white placeholder-cloud-gray/50 focus:border-primary-teal focus:outline-none focus:ring-2 focus:ring-primary-teal/20 transition-all duration-200">
                    <input type="text" name="roster-role-${rosterCount}" placeholder="Role/Title" required
                           class="w-full px-3 py-2 bg-deep-charcoal/50 border border-gray-600 rounded-lg text-soft-white placeholder-cloud-gray/50 focus:border-primary-teal focus:outline-none focus:ring-2 focus:ring-primary-teal/20 transition-all duration-200">
                </div>
                <div class="grid md:grid-cols-3 gap-4 mb-4">
                    <label class="flex items-center">
                        <input type="checkbox" name="roster-board-${rosterCount}" class="w-4 h-4 text-primary-teal bg-deep-charcoal border-gray-600 rounded">
                        <span class="ml-2 text-sm text-cloud-gray">Board Director</span>
                    </label>
                    <label class="flex items-center">
                        <input type="checkbox" name="roster-independent-${rosterCount}" class="w-4 h-4 text-primary-teal bg-deep-charcoal border-gray-600 rounded">
                        <span class="ml-2 text-sm text-cloud-gray">Independent Director</span>
                    </label>
                    <select name="roster-country-${rosterCount}" class="px-3 py-2 bg-deep-charcoal/50 border border-gray-600 rounded-lg text-soft-white focus:border-primary-teal focus:outline-none focus:ring-2 focus:ring-primary-teal/20 transition-all duration-200">
                        <option value="">Country</option>
                        <option value="US">United States</option>
                        <option value="CA">Canada</option>
                        <option value="GB">United Kingdom</option>
                        <option value="DE">Germany</option>
                        <option value="FR">France</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="grid md:grid-cols-2 gap-4">
                    <input type="url" name="roster-linkedin-${rosterCount}" placeholder="LinkedIn profile (optional)"
                           class="w-full px-3 py-2 bg-deep-charcoal/50 border border-gray-600 rounded-lg text-soft-white placeholder-cloud-gray/50 focus:border-primary-teal focus:outline-none focus:ring-2 focus:ring-primary-teal/20 transition-all duration-200">
                    <input type="text" name="roster-bio-${rosterCount}" placeholder="Short bio/tagline (optional)" maxlength="300"
                           class="w-full px-3 py-2 bg-deep-charcoal/50 border border-gray-600 rounded-lg text-soft-white placeholder-cloud-gray/50 focus:border-primary-teal focus:outline-none focus:ring-2 focus:ring-primary-teal/20 transition-all duration-200">
                </div>
            `;
            container.appendChild(row);
        }

        function removeRosterRow(button) {
            if (rosterCount > 1) {
                button.closest('.bg-deep-charcoal\\/30').remove();
                rosterCount--;
                updateRosterNumbers();
            }
        }

        function updateRosterNumbers() {
            const rows = document.querySelectorAll('#roster-rows .bg-deep-charcoal\\/30');
            rows.forEach((row, index) => {
                row.querySelector('h4').textContent = `Person ${index + 1}`;
            });
        }

        // Dialog functions
        function showExitDialog() {
            document.getElementById('exit-dialog').classList.remove('hidden');
        }

        function hideExitDialog() {
            document.getElementById('exit-dialog').classList.add('hidden');
        }

        // Auto-save on input changes
        document.addEventListener('input', function() {
            updateSaveStatus('saving');
            clearTimeout(window.saveTimeout);
            window.saveTimeout = setTimeout(() => {
                autoSave();
                updateSaveStatus('saved');
            }, 1000);
        });

        // Auto-enrich functionality
        document.getElementById('auto-enrich-consent')?.addEventListener('change', function() {
            document.getElementById('auto-enrich-btn').disabled = !this.checked;
        });

        function startAutoEnrich() {
            // Simulate API call
            updateSaveStatus('saving');
            setTimeout(() => {
                document.getElementById('auto-enrich-results').classList.remove('hidden');
                // Simulate found data
                document.getElementById('auto-roster-table').innerHTML = `
                    <div class="text-sm text-green-400 mb-4">✓ Found 5 leadership profiles</div>
                    <div class="text-sm text-cloud-gray">Review and edit the information below before proceeding.</div>
                `;
                updateSaveStatus('saved');
            }, 2000);
        }

        function parseUrls() {
            const urls = document.getElementById('profile-urls').value;
            if (urls.trim()) {
                // Simulate URL parsing
                updateSaveStatus('saving');
                setTimeout(() => {
                    const urlCount = urls.split('\n').filter(u => u.trim()).length;
                    alert(`Found ${urlCount} profile URLs. Processing...`);
                    updateSaveStatus('saved');
                }, 1000);
            }
        }
    </script>
</body>
</html>